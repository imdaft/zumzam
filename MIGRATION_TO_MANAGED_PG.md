# ðŸ”„ ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð° Managed PostgreSQL

**Ð”Ð°Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ð»Ð°:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ  
**ÐžÑ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹:** AI + vanekseleznev

---

## ðŸ“Š Ð¢Ð•ÐšÐ£Ð©Ð•Ð• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð• (Legacy)

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° (Ð²Ð°Ñˆ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€)
```
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Supabase Docker (self-hosted)
URL: http://127.0.0.1:54321
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:
- PostgreSQL (Ð‘Ð”)
- PostgREST (REST API)
- GoTrue (Auth - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯, ÑÐ²Ð¾Ð¹ Auth)
- Storage API (Ñ„Ð°Ð¹Ð»Ñ‹ - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯, Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹)
- Realtime (WebSocket - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯)
- Kong Gateway
- pgMeta
- Studio (Ð°Ð´Ð¼Ð¸Ð½ÐºÐ° Ð½Ð° localhost:54323)

Ð”Ð°Ð½Ð½Ñ‹Ðµ:
- Ð’ÑÐµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ âœ…
- Ð’ÑÐµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ âœ…
- Ð’ÑÐµ ÑƒÑÐ»ÑƒÐ³Ð¸ âœ…
- Ð’ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (20 ÑˆÑ‚ÑƒÐº) âœ…
```

### ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐ½ ÑÐµÑ€Ð²ÐµÑ€ (ZumZam.ru)
```
Ð¡ÐµÑ€Ð²ÐµÑ€: Yandex Cloud VM
IP: 89.169.190.79
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âŒ Ð‘Ð” Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
- Docker ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- Supabase ÐÐ• Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- PM2 ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- .env.local ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð½Ð° localhost:54321 (Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚)

Ð”Ð°Ð½Ð½Ñ‹Ñ… ÐÐ•Ð¢ - ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚!
```

---

## ðŸŽ¯ Ð¦Ð•Ð›Ð•Ð’ÐžÐ• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð• (New)

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° (Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹)
```
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Supabase Docker (ÐºÐ°Ðº ÐµÑÑ‚ÑŒ)
URL: http://127.0.0.1:54321
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ: ÐÐ•Ð¢
Ð’ÑÐµ Ð¾ÑÑ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!
```

### ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐ½ ÑÐµÑ€Ð²ÐµÑ€ (Ð½Ð¾Ð²Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°)
```
Ð¡ÐµÑ€Ð²ÐµÑ€: Yandex Cloud VM (89.169.190.79)
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Next.js + Nginx
Ð‘Ð”: Managed PostgreSQL (Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ)

ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:
1. Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ (Ð½Ð° Ð’Ðœ)
2. PM2 (Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²)
3. Nginx (Ð¿Ñ€Ð¾ÐºÑÐ¸)
4. Managed PostgreSQL (Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð¯Ð½Ð´ÐµÐºÑÐ°)

.env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ:
POSTGRES_URL=postgresql://username:password@c-xxxxx.rw.mdb.yandexcloud.net:6432/zumzam
NEXT_PUBLIC_SUPABASE_URL=https://zumzam.ru/api
```

---

## ðŸ”§ Ð§Ð¢Ðž Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢ ÐŸÐ Ð˜Ð›ÐžÐ–Ð•ÐÐ˜Ð• (Ð°Ð½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð°)

### 1. Supabase JS Client
```typescript
// lib/supabase/client.ts
import { createBrowserClient } from '@supabase/ssr'

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ:
- Ð—Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð‘Ð” (.from('table').select())
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Auth (ÑÐ²Ð¾Ð¹ Auth Ð² Next.js)
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Storage (ÑÐ²Ð¾Ð¹ Storage Ð² Next.js)
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Realtime
```

**Ð’Ð«Ð’ÐžÐ”:** ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¢ÐžÐ›Ð¬ÐšÐž PostgreSQL Ñ‡ÐµÑ€ÐµÐ· Supabase JS Client.  
Supabase JS Client Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð›Ð®Ð‘Ð«Ðœ PostgreSQL!

### 2. Authentication (ÑÐ²Ð¾Ð¹)
```typescript
// app/api/auth/* - ÑÐ²Ð¾Ð¸ API routes
- /api/auth/login
- /api/auth/register
- /api/auth/logout
- middleware.ts - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° JWT

ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Supabase Auth!
```

### 3. File Storage (ÑÐ²Ð¾Ð¹)
```typescript
// app/api/upload/route.ts - ÑÐ²Ð¾Ð¹ API Ð´Ð»Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²
- Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð² Supabase Storage Ð˜Ð›Ð˜ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
- ÐœÐ¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Yandex Object Storage

ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Supabase Storage API Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ!
```

### 4. API Routes (ÑÐ²Ð¾Ð¸)
```typescript
// app/api/* - Ð²ÑÐµ ÑÐ²Ð¾Ð¸
- /api/profiles
- /api/services
- /api/reviews
- /api/master-class-programs
- Ð¸ Ñ‚.Ð´.

Ð’ÑÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· Next.js API routes!
```

---

## ðŸ“‹ Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« Ð’ Ð‘Ð” (20 ÑˆÑ‚ÑƒÐº)

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
```sql
1. users - Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸
2. profiles - Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÐµÐ¹
3. profile_locations - Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð»Ð¾Ñ‰Ð°Ð´Ð¾Ðº
4. profile_activities - ÑÐ²ÑÐ·ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ-Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸
5. profile_services - ÑÐ²ÑÐ·ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ-ÑƒÑÐ»ÑƒÐ³Ð¸
6. services - ÑƒÑÐ»ÑƒÐ³Ð¸ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹
7. reviews - Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹
8. user_activity - Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°
```

### ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸
```sql
9. master_class_programs - Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¼Ð°ÑÑ‚ÐµÑ€-ÐºÐ»Ð°ÑÑÐ¾Ð²
10. animator_characters - Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸ Ð°Ð½Ð¸Ð¼Ð°Ñ‚Ð¾Ñ€Ð¾Ð²
11. quest_programs - ÐºÐ²ÐµÑÑ‚Ñ‹
12. show_programs - ÑˆÐ¾Ñƒ-Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
```

### ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°
```sql
13. agency_partners - Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²
14. agency_cases - ÐºÐµÐ¹ÑÑ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²
```

### ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¸
```sql
15. activity_catalog
16. service_catalog
17. animator_services_catalog
18. agency_services_catalog
19. masterclass_types_catalog
20. quest_types_catalog
21. show_types_catalog
22. photographer_styles_catalog
```

**Ð’ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð² Managed PostgreSQL!**

---

## ðŸ”„ ÐŸÐ›ÐÐ ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð˜

### Ð­Ñ‚Ð°Ð¿ 1: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Managed PostgreSQL (5 Ð¼Ð¸Ð½)
```
1. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¯Ð½Ð´ÐµÐºÑ.ÐžÐ±Ð»Ð°ÐºÐ°
2. Managed Service for PostgreSQL â†’ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ»Ð°ÑÑ‚ÐµÑ€
3. ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:
   - Ð’ÐµÑ€ÑÐ¸Ñ: PostgreSQL 15
   - ÐšÐ»Ð°ÑÑ: s2.small (2 vCPU, 8GB RAM)
   - Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ: 50GB SSD
   - Ð˜Ð¼Ñ Ð‘Ð”: zumzam
   - Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ: zumzam_admin
   - ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: (ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹)
4. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ connection string
```

### Ð­Ñ‚Ð°Ð¿ 2: Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð” (3 Ð¼Ð¸Ð½)
```bash
# ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¼ ÐºÐ¾Ð¼Ð¿Ðµ
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres \
  --data-only --inserts -f local_data_dump.sql
```

### Ð­Ñ‚Ð°Ð¿ 3: ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ðº Managed PG (2 Ð¼Ð¸Ð½)
```bash
# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ðº Ð½Ð¾Ð²Ð¾Ð¹ Ð‘Ð”
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 \
  -U zumzam_admin -d zumzam \
  -f supabase/migrations/20250101000000_init_from_production.sql
```

### Ð­Ñ‚Ð°Ð¿ 4: Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Managed PG (3 Ð¼Ð¸Ð½)
```bash
# Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 \
  -U zumzam_admin -d zumzam \
  -f local_data_dump.sql
```

### Ð­Ñ‚Ð°Ð¿ 5: ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ .env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (2 Ð¼Ð¸Ð½)
```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ (SSH)
cd /home/vanekseleznev/zumzam

# Ð‘ÑÐºÐ°Ð¿ ÑÑ‚Ð°Ñ€Ð¾Ð³Ð¾
cp .env.local .env.local.backup_before_managed_pg

# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ
nano .env.local
# Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ:
# NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
# ÐÐ°:
# POSTGRES_URL=postgresql://zumzam_admin:PASSWORD@c-xxxxx.rw.mdb.yandexcloud.net:6432/zumzam
```

### Ð­Ñ‚Ð°Ð¿ 6: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° PM2 Ð¸ Ð·Ð°Ð¿ÑƒÑÐº (5 Ð¼Ð¸Ð½)
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ PM2
npm install -g pm2

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ecosystem.config.js
cat > ecosystem.config.js << 'EOF'
module.exports = {
  apps: [{
    name: 'zumzam',
    script: 'npm',
    args: 'start',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    }
  }]
}
EOF

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
npm run build
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### Ð­Ñ‚Ð°Ð¿ 7: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° (2 Ð¼Ð¸Ð½)
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
curl http://localhost:3000
curl http://localhost:3000/api/profiles

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
pm2 logs zumzam
```

---

## ðŸ”’ Ð§Ð¢Ðž ÐÐ• Ð˜Ð—ÐœÐ•ÐÐ˜Ð¢Ð¡Ð¯

### ÐšÐ¾Ð´ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- âŒ ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼ ÐºÐ¾Ð´
- âŒ ÐÐ• Ð¼ÐµÐ½ÑÐµÐ¼ API routes
- âŒ ÐÐ• Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð‘Ð”
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°
- âŒ ÐÐ• Ð¼ÐµÐ½ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Supabase
- âŒ ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ .env.local
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!

### Ð”Ð°Ð½Ð½Ñ‹Ðµ
- âœ… Ð’ÑÐµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ ÑƒÑÐ»ÑƒÐ³Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ

---

## âš ï¸ Ð Ð˜Ð¡ÐšÐ˜ Ð˜ ÐœÐ˜Ð¢Ð˜Ð“ÐÐ¦Ð˜Ð¯

### Ð Ð¸ÑÐº 1: ÐŸÐ¾Ñ‚ÐµÑ€Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- Ð”ÐµÐ»Ð°ÐµÐ¼ Ð±ÑÐºÐ°Ð¿ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð” Ð¿ÐµÑ€ÐµÐ´ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÐµÐ¹
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- ÐÐµ ÑƒÐ´Ð°Ð»ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð‘Ð” Ð´Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸

### Ð Ð¸ÑÐº 2: ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Managed PG
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ security groups Ð¯Ð½Ð´ÐµÐºÑÐ°
- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°: `psql -h ... -U ...`
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ firewall Ð½Ð° Ð’Ðœ

### Ð Ð¸ÑÐº 3: ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ .env.local
- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ñ Ð½Ð¾Ð²Ð¾Ð¹ connection string
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð»Ð¾Ð³Ð¸ PM2

---

## ðŸ“ Ð§Ð•ÐšÐ›Ð˜Ð¡Ð¢ ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð˜

- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ Managed PostgreSQL ÐºÐ»Ð°ÑÑ‚ÐµÑ€
- [ ] ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½ connection string
- [ ] Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð”
- [ ] ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ðº Managed PG
- [ ] Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Managed PG
- [ ] ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ .env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
- [ ] Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ PM2
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ ecosystem.config.js
- [ ] Ð¡Ð¾Ð±Ñ€Ð°Ð½ production build (`npm run build`)
- [ ] Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· PM2
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð³Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: API routes Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¾Ð¹Ñ‚Ð¸
- [ ] ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº PM2 (`pm2 startup`)
- [ ] Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ PM2 (`pm2 save`)

---

## ðŸŽ¯ ÐšÐ Ð˜Ð¢Ð•Ð Ð˜Ð˜ Ð£Ð¡ÐŸÐ•Ð¥Ð

1. âœ… ZumZam.ru Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ
2. âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
3. âœ… ÐŸÑ€Ð¾Ñ„Ð¸Ð»Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ
4. âœ… ÐœÐ¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
5. âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
6. âœ… Ð’ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ
7. âœ… Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð¿Ñ€ÐµÐ¶Ð´Ðµ

---

## ðŸ“ž ÐšÐžÐÐ¢ÐÐšÐ¢Ð« Ð˜ Ð”ÐžÐ¡Ð¢Ð£ÐŸÐ«

### Yandex Cloud
```
ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ: [Ð²Ð°ÑˆÐ° Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ]
Cloud ID: [Ð²Ð°Ñˆ cloud ID]
Folder: default
```

### Managed PostgreSQL (Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ)
```
Cluster ID: c-xxxxx
Host: c-xxxxx.rw.mdb.yandexcloud.net
Port: 6432
Database: zumzam
User: zumzam_admin
Password: [ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾]
```

### Ð¡ÐµÑ€Ð²ÐµÑ€
```
IP: 89.169.190.79
User: vanekseleznev
SSH Key: d:\CODES\ZumZam\ssh\ssh-key-1766452287040\ssh-key-1766452287040
Project Path: /home/vanekseleznev/zumzam
```

---

## ðŸ“š ÐŸÐžÐ›Ð•Ð—ÐÐ«Ð• ÐšÐžÐœÐÐÐ”Ð«

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ (ÑÐºÑÐ¿Ð¾Ñ€Ñ‚)
```bash
# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ ÑÑ…ÐµÐ¼Ñ‹ + Ð´Ð°Ð½Ð½Ñ‹Ñ…
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres -f full_backup.sql

# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres --data-only --inserts -f data_only.sql

# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ…ÐµÐ¼Ñ‹
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres --schema-only -f schema_only.sql
```

### ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ñ Ð‘Ð”
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 -U zumzam_admin -d zumzam -c "SELECT version();"

# PM2 ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
pm2 list
pm2 logs zumzam
pm2 restart zumzam
pm2 stop zumzam
pm2 delete zumzam

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ‹
netstat -tlnp | grep :3000
```

---

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.0


**Ð”Ð°Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ð»Ð°:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ  
**ÐžÑ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹:** AI + vanekseleznev

---

## ðŸ“Š Ð¢Ð•ÐšÐ£Ð©Ð•Ð• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð• (Legacy)

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° (Ð²Ð°Ñˆ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€)
```
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Supabase Docker (self-hosted)
URL: http://127.0.0.1:54321
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:
- PostgreSQL (Ð‘Ð”)
- PostgREST (REST API)
- GoTrue (Auth - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯, ÑÐ²Ð¾Ð¹ Auth)
- Storage API (Ñ„Ð°Ð¹Ð»Ñ‹ - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯, Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹)
- Realtime (WebSocket - ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯)
- Kong Gateway
- pgMeta
- Studio (Ð°Ð´Ð¼Ð¸Ð½ÐºÐ° Ð½Ð° localhost:54323)

Ð”Ð°Ð½Ð½Ñ‹Ðµ:
- Ð’ÑÐµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ âœ…
- Ð’ÑÐµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ âœ…
- Ð’ÑÐµ ÑƒÑÐ»ÑƒÐ³Ð¸ âœ…
- Ð’ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (20 ÑˆÑ‚ÑƒÐº) âœ…
```

### ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐ½ ÑÐµÑ€Ð²ÐµÑ€ (ZumZam.ru)
```
Ð¡ÐµÑ€Ð²ÐµÑ€: Yandex Cloud VM
IP: 89.169.190.79
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âŒ Ð‘Ð” Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
- Docker ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- Supabase ÐÐ• Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- PM2 ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- .env.local ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð½Ð° localhost:54321 (Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚)

Ð”Ð°Ð½Ð½Ñ‹Ñ… ÐÐ•Ð¢ - ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚!
```

---

## ðŸŽ¯ Ð¦Ð•Ð›Ð•Ð’ÐžÐ• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð• (New)

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° (Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹)
```
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Supabase Docker (ÐºÐ°Ðº ÐµÑÑ‚ÑŒ)
URL: http://127.0.0.1:54321
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ: ÐÐ•Ð¢
Ð’ÑÐµ Ð¾ÑÑ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!
```

### ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐ½ ÑÐµÑ€Ð²ÐµÑ€ (Ð½Ð¾Ð²Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°)
```
Ð¡ÐµÑ€Ð²ÐµÑ€: Yandex Cloud VM (89.169.190.79)
ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Next.js + Nginx
Ð‘Ð”: Managed PostgreSQL (Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ)

ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹:
1. Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ (Ð½Ð° Ð’Ðœ)
2. PM2 (Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²)
3. Nginx (Ð¿Ñ€Ð¾ÐºÑÐ¸)
4. Managed PostgreSQL (Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð¯Ð½Ð´ÐµÐºÑÐ°)

.env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ:
POSTGRES_URL=postgresql://username:password@c-xxxxx.rw.mdb.yandexcloud.net:6432/zumzam
NEXT_PUBLIC_SUPABASE_URL=https://zumzam.ru/api
```

---

## ðŸ”§ Ð§Ð¢Ðž Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢ ÐŸÐ Ð˜Ð›ÐžÐ–Ð•ÐÐ˜Ð• (Ð°Ð½Ð°Ð»Ð¸Ð· ÐºÐ¾Ð´Ð°)

### 1. Supabase JS Client
```typescript
// lib/supabase/client.ts
import { createBrowserClient } from '@supabase/ssr'

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ:
- Ð—Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð‘Ð” (.from('table').select())
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Auth (ÑÐ²Ð¾Ð¹ Auth Ð² Next.js)
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Storage (ÑÐ²Ð¾Ð¹ Storage Ð² Next.js)
- ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Supabase Realtime
```

**Ð’Ð«Ð’ÐžÐ”:** ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¢ÐžÐ›Ð¬ÐšÐž PostgreSQL Ñ‡ÐµÑ€ÐµÐ· Supabase JS Client.  
Supabase JS Client Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð›Ð®Ð‘Ð«Ðœ PostgreSQL!

### 2. Authentication (ÑÐ²Ð¾Ð¹)
```typescript
// app/api/auth/* - ÑÐ²Ð¾Ð¸ API routes
- /api/auth/login
- /api/auth/register
- /api/auth/logout
- middleware.ts - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° JWT

ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Supabase Auth!
```

### 3. File Storage (ÑÐ²Ð¾Ð¹)
```typescript
// app/api/upload/route.ts - ÑÐ²Ð¾Ð¹ API Ð´Ð»Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²
- Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð² Supabase Storage Ð˜Ð›Ð˜ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
- ÐœÐ¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Yandex Object Storage

ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Supabase Storage API Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ!
```

### 4. API Routes (ÑÐ²Ð¾Ð¸)
```typescript
// app/api/* - Ð²ÑÐµ ÑÐ²Ð¾Ð¸
- /api/profiles
- /api/services
- /api/reviews
- /api/master-class-programs
- Ð¸ Ñ‚.Ð´.

Ð’ÑÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· Next.js API routes!
```

---

## ðŸ“‹ Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð« Ð’ Ð‘Ð” (20 ÑˆÑ‚ÑƒÐº)

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
```sql
1. users - Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸
2. profiles - Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÐµÐ¹
3. profile_locations - Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð»Ð¾Ñ‰Ð°Ð´Ð¾Ðº
4. profile_activities - ÑÐ²ÑÐ·ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ-Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸
5. profile_services - ÑÐ²ÑÐ·ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ-ÑƒÑÐ»ÑƒÐ³Ð¸
6. services - ÑƒÑÐ»ÑƒÐ³Ð¸ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹
7. reviews - Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹
8. user_activity - Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°
```

### ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸
```sql
9. master_class_programs - Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¼Ð°ÑÑ‚ÐµÑ€-ÐºÐ»Ð°ÑÑÐ¾Ð²
10. animator_characters - Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð¸ Ð°Ð½Ð¸Ð¼Ð°Ñ‚Ð¾Ñ€Ð¾Ð²
11. quest_programs - ÐºÐ²ÐµÑÑ‚Ñ‹
12. show_programs - ÑˆÐ¾Ñƒ-Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
```

### ÐÐ³ÐµÐ½Ñ‚ÑÑ‚Ð²Ð°
```sql
13. agency_partners - Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²
14. agency_cases - ÐºÐµÐ¹ÑÑ‹ Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²
```

### ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¸
```sql
15. activity_catalog
16. service_catalog
17. animator_services_catalog
18. agency_services_catalog
19. masterclass_types_catalog
20. quest_types_catalog
21. show_types_catalog
22. photographer_styles_catalog
```

**Ð’ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð² Managed PostgreSQL!**

---

## ðŸ”„ ÐŸÐ›ÐÐ ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð˜

### Ð­Ñ‚Ð°Ð¿ 1: Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Managed PostgreSQL (5 Ð¼Ð¸Ð½)
```
1. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð¯Ð½Ð´ÐµÐºÑ.ÐžÐ±Ð»Ð°ÐºÐ°
2. Managed Service for PostgreSQL â†’ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ»Ð°ÑÑ‚ÐµÑ€
3. ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:
   - Ð’ÐµÑ€ÑÐ¸Ñ: PostgreSQL 15
   - ÐšÐ»Ð°ÑÑ: s2.small (2 vCPU, 8GB RAM)
   - Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ: 50GB SSD
   - Ð˜Ð¼Ñ Ð‘Ð”: zumzam
   - Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ: zumzam_admin
   - ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: (ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹)
4. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ connection string
```

### Ð­Ñ‚Ð°Ð¿ 2: Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð” (3 Ð¼Ð¸Ð½)
```bash
# ÐÐ° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¼ ÐºÐ¾Ð¼Ð¿Ðµ
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres \
  --data-only --inserts -f local_data_dump.sql
```

### Ð­Ñ‚Ð°Ð¿ 3: ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ðº Managed PG (2 Ð¼Ð¸Ð½)
```bash
# ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ðº Ð½Ð¾Ð²Ð¾Ð¹ Ð‘Ð”
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 \
  -U zumzam_admin -d zumzam \
  -f supabase/migrations/20250101000000_init_from_production.sql
```

### Ð­Ñ‚Ð°Ð¿ 4: Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Managed PG (3 Ð¼Ð¸Ð½)
```bash
# Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 \
  -U zumzam_admin -d zumzam \
  -f local_data_dump.sql
```

### Ð­Ñ‚Ð°Ð¿ 5: ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ .env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (2 Ð¼Ð¸Ð½)
```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ (SSH)
cd /home/vanekseleznev/zumzam

# Ð‘ÑÐºÐ°Ð¿ ÑÑ‚Ð°Ñ€Ð¾Ð³Ð¾
cp .env.local .env.local.backup_before_managed_pg

# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ
nano .env.local
# Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ:
# NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
# ÐÐ°:
# POSTGRES_URL=postgresql://zumzam_admin:PASSWORD@c-xxxxx.rw.mdb.yandexcloud.net:6432/zumzam
```

### Ð­Ñ‚Ð°Ð¿ 6: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° PM2 Ð¸ Ð·Ð°Ð¿ÑƒÑÐº (5 Ð¼Ð¸Ð½)
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ PM2
npm install -g pm2

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ecosystem.config.js
cat > ecosystem.config.js << 'EOF'
module.exports = {
  apps: [{
    name: 'zumzam',
    script: 'npm',
    args: 'start',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    }
  }]
}
EOF

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
npm run build
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### Ð­Ñ‚Ð°Ð¿ 7: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° (2 Ð¼Ð¸Ð½)
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
curl http://localhost:3000
curl http://localhost:3000/api/profiles

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
pm2 logs zumzam
```

---

## ðŸ”’ Ð§Ð¢Ðž ÐÐ• Ð˜Ð—ÐœÐ•ÐÐ˜Ð¢Ð¡Ð¯

### ÐšÐ¾Ð´ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- âŒ ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼ ÐºÐ¾Ð´
- âŒ ÐÐ• Ð¼ÐµÐ½ÑÐµÐ¼ API routes
- âŒ ÐÐ• Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº Ð‘Ð”
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°
- âŒ ÐÐ• Ð¼ÐµÐ½ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Supabase
- âŒ ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ .env.local
- âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð±Ñ‹Ð»Ð¾!

### Ð”Ð°Ð½Ð½Ñ‹Ðµ
- âœ… Ð’ÑÐµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ ÑƒÑÐ»ÑƒÐ³Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ
- âœ… Ð’ÑÐµ Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ

---

## âš ï¸ Ð Ð˜Ð¡ÐšÐ˜ Ð˜ ÐœÐ˜Ð¢Ð˜Ð“ÐÐ¦Ð˜Ð¯

### Ð Ð¸ÑÐº 1: ÐŸÐ¾Ñ‚ÐµÑ€Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- Ð”ÐµÐ»Ð°ÐµÐ¼ Ð±ÑÐºÐ°Ð¿ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð” Ð¿ÐµÑ€ÐµÐ´ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÐµÐ¹
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- ÐÐµ ÑƒÐ´Ð°Ð»ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð‘Ð” Ð´Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸

### Ð Ð¸ÑÐº 2: ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Managed PG
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ security groups Ð¯Ð½Ð´ÐµÐºÑÐ°
- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°: `psql -h ... -U ...`
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ firewall Ð½Ð° Ð’Ðœ

### Ð Ð¸ÑÐº 3: ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ
**ÐœÐ¸Ñ‚Ð¸Ð³Ð°Ñ†Ð¸Ñ:**
- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ .env.local
- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ñ Ð½Ð¾Ð²Ð¾Ð¹ connection string
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð»Ð¾Ð³Ð¸ PM2

---

## ðŸ“ Ð§Ð•ÐšÐ›Ð˜Ð¡Ð¢ ÐœÐ˜Ð“Ð ÐÐ¦Ð˜Ð˜

- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ Managed PostgreSQL ÐºÐ»Ð°ÑÑ‚ÐµÑ€
- [ ] ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½ connection string
- [ ] Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð”
- [ ] ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ñ‹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ðº Managed PG
- [ ] Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Managed PG
- [ ] ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½ .env.local Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
- [ ] Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ PM2
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ ecosystem.config.js
- [ ] Ð¡Ð¾Ð±Ñ€Ð°Ð½ production build (`npm run build`)
- [ ] Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· PM2
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð³Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: API routes Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¾Ð¹Ñ‚Ð¸
- [ ] ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº PM2 (`pm2 startup`)
- [ ] Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ PM2 (`pm2 save`)

---

## ðŸŽ¯ ÐšÐ Ð˜Ð¢Ð•Ð Ð˜Ð˜ Ð£Ð¡ÐŸÐ•Ð¥Ð

1. âœ… ZumZam.ru Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ
2. âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
3. âœ… ÐŸÑ€Ð¾Ñ„Ð¸Ð»Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ
4. âœ… ÐœÐ¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
5. âœ… ÐœÐ¾Ð¶Ð½Ð¾ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ
6. âœ… Ð’ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ
7. âœ… Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð¿Ñ€ÐµÐ¶Ð´Ðµ

---

## ðŸ“ž ÐšÐžÐÐ¢ÐÐšÐ¢Ð« Ð˜ Ð”ÐžÐ¡Ð¢Ð£ÐŸÐ«

### Yandex Cloud
```
ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ: [Ð²Ð°ÑˆÐ° Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ]
Cloud ID: [Ð²Ð°Ñˆ cloud ID]
Folder: default
```

### Managed PostgreSQL (Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ)
```
Cluster ID: c-xxxxx
Host: c-xxxxx.rw.mdb.yandexcloud.net
Port: 6432
Database: zumzam
User: zumzam_admin
Password: [ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾]
```

### Ð¡ÐµÑ€Ð²ÐµÑ€
```
IP: 89.169.190.79
User: vanekseleznev
SSH Key: d:\CODES\ZumZam\ssh\ssh-key-1766452287040\ssh-key-1766452287040
Project Path: /home/vanekseleznev/zumzam
```

---

## ðŸ“š ÐŸÐžÐ›Ð•Ð—ÐÐ«Ð• ÐšÐžÐœÐÐÐ”Ð«

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ (ÑÐºÑÐ¿Ð¾Ñ€Ñ‚)
```bash
# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ ÑÑ…ÐµÐ¼Ñ‹ + Ð´Ð°Ð½Ð½Ñ‹Ñ…
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres -f full_backup.sql

# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres --data-only --inserts -f data_only.sql

# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ…ÐµÐ¼Ñ‹
pg_dump -h 127.0.0.1 -p 54322 -U postgres -d postgres --schema-only -f schema_only.sql
```

### ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ñ Ð‘Ð”
psql -h c-xxxxx.rw.mdb.yandexcloud.net -p 6432 -U zumzam_admin -d zumzam -c "SELECT version();"

# PM2 ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
pm2 list
pm2 logs zumzam
pm2 restart zumzam
pm2 stop zumzam
pm2 delete zumzam

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ‹
netstat -tlnp | grep :3000
```

---

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:** 25 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2024  
**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.0




