# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pgvector –≤ Yandex Cloud Managed PostgreSQL

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –í–æ–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å Yandex Cloud

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.yandex.ru/
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–∞—Ç–∞–ª–æ–≥ (folder)

### –®–∞–≥ 2: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Managed Service for PostgreSQL

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –Ω–∞–π–¥–∏—Ç–µ **"Managed Service for PostgreSQL"**
2. –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é: https://console.cloud.yandex.ru/folders/{FOLDER_ID}/managed-postgresql

### –®–∞–≥ 3: –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä

1. –ù–∞–π–¥–∏—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö `zumzam`
2. –•–æ—Å—Ç: `rc1b-ktk7vobktajbv2sd.mdb.yandexcloud.net`
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

### –®–∞–≥ 4: –í–∫–ª—é—á–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector

1. –í –º–µ–Ω—é –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"**
2. –ù–∞–π–¥–∏—Ç–µ –±–∞–∑—É `zumzam`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ —Å–ø—Ä–∞–≤–∞ ‚Üí **"–ò–∑–º–µ–Ω–∏—Ç—å"**
4. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL"**
5. –í —Å–ø–∏—Å–∫–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –Ω–∞–π–¥–∏—Ç–µ **`vector`** (–∏–ª–∏ **`pgvector`**)
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≥–∞–ª–æ—á–∫—É –Ω–∞–ø—Ä–æ—Ç–∏–≤ `vector`
7. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

### –®–∞–≥ 5: –î–æ–∂–¥–∏—Ç–µ—Å—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å 1-5 –º–∏–Ω—É—Ç
- –ö–ª–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º –≤ –∫–æ–Ω—Å–æ–ª–∏

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
cd D:\CODES\ZumZam
npx tsx scripts/install-pgvector.ts
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ vector —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Yandex Cloud**: https://cloud.yandex.ru/docs/managed-postgresql/operations/extensions/cluster-extensions
- **–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π**: https://cloud.yandex.ru/docs/managed-postgresql/operations/extensions/cluster-extensions#postgresql
- **pgvector GitHub**: https://github.com/pgvector/pgvector

## ‚ö†Ô∏è –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ pgvector –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `vector` –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é PostgreSQL

Yandex Cloud –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å pgvector –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö PostgreSQL:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é PostgreSQL (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 14+)
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä —Å PostgreSQL 15 –∏–ª–∏ 16

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Yandex Cloud

–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–∫–µ—Ç –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–ü–æ–¥–¥–µ—Ä–∂–∫–∞"** –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ
3. –¢–µ–º–∞: **"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è pgvector –¥–ª—è PostgreSQL"**
4. –û–ø–∏—à–∏—Ç–µ:
   - ID –∫–ª–∞—Å—Ç–µ—Ä–∞
   - –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `zumzam`
   - –ó–∞–ø—Ä–æ—Å–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `pgvector`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–∞ Supabase

Supabase –≤–∫–ª—é—á–∞–µ—Ç pgvector –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: https://supabase.com/dashboard
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Yandex Cloud
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ Supabase
- –û–±–Ω–æ–≤–∏—Ç–µ `DATABASE_URL` –≤ `.env.local`

## üìù –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ pgvector

1. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞**:
   ```bash
   npx tsx scripts/apply-vector-search.ts
   ```

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å embeddings –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π**:
   ```bash
   npx tsx scripts/update-embeddings.ts
   ```
   (–≠—Ç–æ –∑–∞–π–º–µ—Ç ~5 –º–∏–Ω—É—Ç –¥–ª—è 48 –ø—Ä–æ—Ñ–∏–ª–µ–π)

3. **–û–±–Ω–æ–≤–∏—Ç—å AI —á–∞—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞**:
   - –û—Ç–∫—Ä—ã—Ç—å `app/api/ai/chat/route.ts`
   - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å AI —á–∞—Ç**:
   ```bash
   npm run dev
   ```
   –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç –∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ù–∞–π–¥–∏ –¥–µ—Ç—Å–∫—É—é —Å—Ç—É–¥–∏—é –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞ 5 –ª–µ—Ç"

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ pgvector –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ AI –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ
- ‚úÖ –ü–æ–∏—Å–∫ "—Ç–≤–æ—Ä—á–µ—Å–∫–∞—è —Å—Ç—É–¥–∏—è" –Ω–∞–π–¥–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏ —Å –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–ª–æ–≤–æ "—Ç–≤–æ—Ä—á–µ—Å–∫–∞—è" –Ω–µ —É–ø–æ–º—è–Ω—É—Ç–æ

## üìä –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏—è

**–î–æ (—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫):**
```
–ó–∞–ø—Ä–æ—Å: "–ù–∞–π–¥–∏ –º–µ—Å—Ç–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞"
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Å–ª–æ–≤–∞ "–∞–∫—Ç–∏–≤–Ω—ã–π" –Ω–µ—Ç –Ω–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª–µ)
```

**–ü–æ—Å–ª–µ (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫):**
```
–ó–∞–ø—Ä–æ—Å: "–ù–∞–π–¥–∏ –º–µ—Å—Ç–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞"
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–∞—Ç—É—Ç–Ω—ã–π —Ü–µ–Ω—Ç—Ä (87% —Å—Ö–æ–∂–µ—Å—Ç—å), –°–∫–∞–ª–æ–¥—Ä–æ–º (82%), –õ–∞–∑–µ—Ä—Ç–∞–≥ (78%)
```

–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ "–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–±–µ–Ω–æ–∫" —Å–≤—è–∑–∞–Ω —Å "–±–∞—Ç—É—Ç—ã", "—Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ", "–∏–≥—Ä—ã" –∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏!

