# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞ –¥–ª—è mobile/desktop

## üìã –û–±–∑–æ—Ä

**–¶–µ–ª—å:** –†–∞–∑–¥–µ–ª–∏—Ç—å –≤—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞ –±–ª–æ–∫–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –∏ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –û–¥–∏–Ω –≤—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –∫ –º–æ–±–∏–ª—å–Ω–æ–π, –∏ –∫ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

**–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –∏ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `section_templates`

```json
{
  "about": "classic",
  "packages": "grid",
  "services": "list",
  "portfolio": "variant1",
  "contacts": "standard",
  "faq": "accordion",
  "locations": "standard",
  "turnkey": "standard",
  "characters": "standard"
}
```

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `section_templates`

```json
{
  "about": {
    "mobile": "classic",
    "desktop": "modern"
  },
  "packages": {
    "mobile": "list",
    "desktop": "grid"
  },
  "services": {
    "mobile": "compact",
    "desktop": "list"
  },
  "portfolio": {
    "mobile": "variant1",
    "desktop": "variant2"
  },
  "contacts": {
    "mobile": "standard",
    "desktop": "standard"
  },
  "faq": {
    "mobile": "accordion",
    "desktop": "accordion"
  },
  "locations": {
    "mobile": "standard",
    "desktop": "standard"
  },
  "turnkey": {
    "mobile": "standard",
    "desktop": "grid"
  },
  "characters": {
    "mobile": "standard",
    "desktop": "grid"
  }
}
```

---

## üîß –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚úÖ –ö–†–ò–¢–ò–ß–ù–û

**–§–∞–π–ª:** `supabase/migrations/20251218_migrate_section_templates_to_variants.sql`

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –Ω–æ–≤—É—é:
   - –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∞ ‚Üí `{ mobile: value, desktop: value }`
   - –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ –æ–±—ä–µ–∫—Ç ‚Üí –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (constraint)

**SQL:**
```sql
-- –§—É–Ω–∫—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
CREATE OR REPLACE FUNCTION migrate_section_templates()
RETURNS void AS $$
BEGIN
  UPDATE profiles
  SET section_templates = (
    SELECT jsonb_object_agg(
      key,
      CASE 
        WHEN jsonb_typeof(value) = 'string' THEN
          jsonb_build_object('mobile', value, 'desktop', value)
        ELSE value
      END
    )
    FROM jsonb_each(COALESCE(section_templates, '{}'::jsonb))
  )
  WHERE section_templates IS NOT NULL;
END;
$$ LANGUAGE plpgsql;

-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
SELECT migrate_section_templates();

-- –î–æ–±–∞–≤–∏—Ç—å constraint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
ALTER TABLE profiles
ADD CONSTRAINT section_templates_structure_check
CHECK (
  section_templates IS NULL OR (
    jsonb_typeof(section_templates) = 'object' AND
    (
      SELECT bool_and(
        jsonb_typeof(value) = 'object' AND
        value ? 'mobile' AND
        value ? 'desktop'
      )
      FROM jsonb_each(section_templates)
    )
  )
);

COMMENT ON CONSTRAINT section_templates_structure_check ON profiles IS 
'–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É {mobile: string, desktop: string}';
```

**–†–∏—Å–∫–∏:**
- ‚ö†Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª–µ–π (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã)
- ‚ö†Ô∏è –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –±–µ–∑ –±—ç–∫–∞–ø–∞

**–†–µ—à–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤:**
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
- –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–æ–ø–∏–∏ –ë–î

---

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TypeScript —Ç–∏–ø–æ–≤

**–§–∞–π–ª:** `lib/types/templates.ts`

**–¢–µ–∫—É—â–∏–π —Ç–∏–ø:**
```typescript
export type SectionTemplates = {
  [sectionId: string]: TemplateId
}
```

**–ù–æ–≤—ã–π —Ç–∏–ø:**
```typescript
export type TemplateVariant = 'mobile' | 'desktop'

export type SectionTemplateConfig = {
  mobile: TemplateId
  desktop: TemplateId
}

export type SectionTemplates = {
  [sectionId: string]: SectionTemplateConfig
}

// –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (deprecated)
export type LegacySectionTemplates = {
  [sectionId: string]: TemplateId
}
```

**–§–∞–π–ª:** `types/supabase.ts`
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø –¥–ª—è `profiles.section_templates`

---

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API endpoint

**–§–∞–π–ª:** `app/api/profiles/[id]/templates/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **PATCH request** —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `variant`:
```typescript
// –ë—ã–ª–æ:
{ sectionId: string, templateId: TemplateId }

// –°—Ç–∞–ª–æ:
{ sectionId: string, templateId: TemplateId, variant: 'mobile' | 'desktop' }
```

2. **–õ–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```typescript
// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ–∫—Ü–∏–∏
const currentConfig = currentTemplates[sectionId] || { mobile: 'classic', desktop: 'classic' }

// –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
const updatedConfig = {
  ...currentConfig,
  [variant]: templateId
}

// –°–æ—Ö—Ä–∞–Ω—è–µ–º
const updatedTemplates = {
  ...currentTemplates,
  [sectionId]: updatedConfig
}
```

3. **GET request** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
```typescript
// –ï—Å–ª–∏ variant –Ω–µ —É–∫–∞–∑–∞–Ω (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç) ‚Üí –æ–±–Ω–æ–≤–ª—è–µ–º –æ–±–∞
if (!variant) {
  updatedConfig = {
    mobile: templateId,
    desktop: templateId
  }
}
```

---

### –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö—É–∫–∞ useProfileTemplates

**–§–∞–π–ª:** `hooks/use-profile-templates.ts`

**–ù–æ–≤–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```typescript
interface UseProfileTemplatesOptions {
  profileId: string
  initialTemplates?: SectionTemplates
  variant: 'mobile' | 'desktop' // –ù–û–í–´–ô –ø–∞—Ä–∞–º–µ—Ç—Ä
  onTemplateChange?: (sectionId: string, templateId: TemplateId, variant: 'mobile' | 'desktop') => void
}

export function useProfileTemplates({ 
  profileId, 
  initialTemplates,
  variant, // –ù–û–í–´–ô
  onTemplateChange 
}: UseProfileTemplatesOptions) {
  // ...
  
  // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–µ–∫—Ü–∏–∏ (—Å —É—á–µ—Ç–æ–º variant)
  const getTemplate = useCallback((sectionId: string): TemplateId => {
    const config = templates[sectionId]
    
    // –ï—Å–ª–∏ —Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Å—Ç—Ä–æ–∫–∞) - –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
    if (typeof config === 'string') {
      return config as TemplateId
    }
    
    // –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - –±–µ—Ä–µ–º –Ω—É–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
    return config?.[variant] || 'classic'
  }, [templates, variant])
  
  // –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è —Å–µ–∫—Ü–∏–∏
  const updateTemplate = useCallback(async (
    sectionId: string, 
    templateId: TemplateId
  ): Promise<boolean> => {
    // ... –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å variant
    body: JSON.stringify({
      sectionId,
      templateId,
      variant // –ù–û–í–û–ï –ø–æ–ª–µ
    })
  }, [profileId, variant, onTemplateChange])
  
  // ...
}
```

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `variant` –≤ –æ–ø—Ü–∏–∏ —Ö—É–∫–∞
- `getTemplate` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ variant
- `updateTemplate` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç variant –Ω–∞ —Å–µ—Ä–≤–µ—Ä

---

### –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–ª–æ–∫–æ–≤

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (10 —Ñ–∞–π–ª–æ–≤):**
1. `components/features/profile/services/services-block.tsx`
2. `components/features/profile/photo-gallery-client.tsx`
3. `components/features/packages/package-tiers-display.tsx`
4. `components/features/profile/turnkey/turnkey-packages-block.tsx`
5. `components/features/profile/profile-faq.tsx`
6. `components/features/profile/contacts-block.tsx`
7. `components/features/profile/venue/locations-tabs.tsx`
8. `components/features/animator/animator-characters-section.tsx`
9. –ò –¥—Ä—É–≥–∏–µ –±–ª–æ–∫–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –¥–∏–∑–∞–π–Ω–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**

**–î–æ:**
```typescript
export function ServicesBlock({
  profileId,
  initialTemplates,
  // ...
}) {
  const { getTemplate, updateTemplate } = useProfileTemplates({
    profileId,
    initialTemplates,
  })
  
  const currentTemplate = getTemplate('services')
  // ...
}
```

**–ü–æ—Å–ª–µ:**
```typescript
export function ServicesBlock({
  profileId,
  initialTemplates,
  variant = 'desktop', // –ù–û–í–´–ô –ø—Ä–æ–ø
  // ...
}) {
  const { getTemplate, updateTemplate } = useProfileTemplates({
    profileId,
    initialTemplates,
    variant, // –ü–µ—Ä–µ–¥–∞–µ–º variant –≤ —Ö—É–∫
  })
  
  const currentTemplate = getTemplate('services')
  // currentTemplate —Ç–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç variant
  // ...
}
```

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–ø `variant?: 'mobile' | 'desktop'` —Å –¥–µ—Ñ–æ–ª—Ç–æ–º `'desktop'`
2. –ü–µ—Ä–µ–¥–∞—Ç—å `variant` –≤ `useProfileTemplates`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ–ª–µ–∫—Ç–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –≠—Ç–∞–ø 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è

**–§–∞–π–ª:** `app/(public)/profiles/[slug]/page.tsx`

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
<ServicesBlock
  profileId={profile.id}
  initialTemplates={(profile.section_templates as any) || undefined}
  isOwner={canEdit}
  // ...
/>
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```typescript
{/* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (–ª–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞) */}
<div className="md:hidden">
  <ServicesBlock
    profileId={profile.id}
    initialTemplates={profile.section_templates}
    variant="mobile"
    isOwner={canEdit}
    // ...
  />
</div>

{/* –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è (main) */}
<div className="hidden md:block">
  <ServicesBlock
    profileId={profile.id}
    initialTemplates={profile.section_templates}
    variant="desktop"
    isOwner={canEdit}
    // ...
  />
</div>
```

**–ü—Ä–æ–±–ª–µ–º–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏ –¥–≤–∞–∂–¥—ã
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä DOM –∏ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ):**
```typescript
// –ü–µ—Ä–µ–¥–∞–µ–º –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º —Ä–µ—à–∞–µ—Ç –∫–∞–∫–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
<ServicesBlock
  profileId={profile.id}
  initialTemplates={profile.section_templates}
  // –ù–ï –ø–µ—Ä–µ–¥–∞–µ–º variant, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Å–∞–º —á–µ—Ä–µ–∑ media query
  isOwner={canEdit}
  // ...
/>

// –í–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
const [isMobile, setIsMobile] = useState(false)

useEffect(() => {
  const checkMobile = () => setIsMobile(window.innerWidth < 768)
  checkMobile()
  window.addEventListener('resize', checkMobile)
  return () => window.removeEventListener('resize', checkMobile)
}, [])

const variant = isMobile ? 'mobile' : 'desktop'
const { getTemplate } = useProfileTemplates({ profileId, initialTemplates, variant })
```

---

### –≠—Ç–∞–ø 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å `TemplateSelector`**

**–¢–µ–∫—É—â–∏–π UI:**
```
[–í–∞—Ä–∏–∞–Ω—Ç 1] [–í–∞—Ä–∏–∞–Ω—Ç 2] [–í–∞—Ä–∏–∞–Ω—Ç 3]
```

**–ù–æ–≤—ã–π UI:**
```
–î–µ—Å–∫—Ç–æ–ø: [–í–∞—Ä–∏–∞–Ω—Ç 1] [–í–∞—Ä–∏–∞–Ω—Ç 2] [–í–∞—Ä–∏–∞–Ω—Ç 3]
–ú–æ–±–∏–ª—å–Ω–∞—è: [–í–∞—Ä–∏–∞–Ω—Ç 1] [–í–∞—Ä–∏–∞–Ω—Ç 2] [–í–∞—Ä–∏–∞–Ω—Ç 3]
```

**–ò–ª–∏ —Å —Ç–∞–±–∞–º–∏:**
```
[üì± –ú–æ–±–∏–ª—å–Ω–∞—è] [üíª –î–µ—Å–∫—Ç–æ–ø]

[–í–∞—Ä–∏–∞–Ω—Ç 1] [–í–∞—Ä–∏–∞–Ω—Ç 2] [–í–∞—Ä–∏–∞–Ω—Ç 3]
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
<div className="space-y-3">
  {/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ */}
  <div className="text-xs text-gray-500">
    {variant === 'mobile' ? 'üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è' : 'üíª –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è'}
  </div>
  
  <div className="flex gap-2">
    {variants.map(v => (
      <button
        key={v.id}
        onClick={() => updateTemplate(sectionId, v.id)}
        className={cn(
          'px-3 py-2 rounded-lg',
          currentTemplate === v.id ? 'bg-orange-500 text-white' : 'bg-gray-100'
        )}
      >
        {v.name}
      </button>
    ))}
  </div>
</div>
```

---

## üìä –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

| –≠—Ç–∞–ø | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è | –†–∏—Å–∫ |
|------|-----------|-------|------|
| 1. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î | –í—ã—Å–æ–∫–∞—è | 2-3 —á–∞—Å–∞ | ‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π |
| 2. TypeScript —Ç–∏–ø—ã | –ù–∏–∑–∫–∞—è | 30 –º–∏–Ω | ‚úÖ –ù–∏–∑–∫–∏–π |
| 3. API endpoint | –°—Ä–µ–¥–Ω—è—è | 1-2 —á–∞—Å–∞ | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π |
| 4. –•—É–∫ useProfileTemplates | –°—Ä–µ–¥–Ω—è—è | 1 —á–∞—Å | ‚úÖ –ù–∏–∑–∫–∏–π |
| 5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–ª–æ–∫–æ–≤ | –í—ã—Å–æ–∫–∞—è | 3-4 —á–∞—Å–∞ | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π |
| 6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è | –°—Ä–µ–¥–Ω—è—è | 1-2 —á–∞—Å–∞ | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π |
| 7. UI —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ | –ù–∏–∑–∫–∞—è | 1 —á–∞—Å | ‚úÖ –ù–∏–∑–∫–∏–π |
| **–ò—Ç–æ–≥–æ** | - | **10-14 —á–∞—Å–æ–≤** | - |

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
**–†–∏—Å–∫:** –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** 
- –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –ë–î
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –∫–æ–ø–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∫–∞—Ç (rollback) —Å–∫—Ä–∏–ø—Ç

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
**–†–∏—Å–∫:** –î–≤–æ–π–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–ª–æ–∫–æ–≤ (mobile + desktop)
**–†–µ—à–µ–Ω–∏–µ:** 
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS `display: none` –≤–º–µ—Å—Ç–æ `md:hidden`
- –ò–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å variant —á–µ—Ä–µ–∑ useEffect

### 3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
**–†–∏—Å–∫:** –°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
**–†–µ—à–µ–Ω–∏–µ:** 
- –•—É–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### 4. UX –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
**–†–∏—Å–∫:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å—Å—è, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –ß–µ—Ç–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã "üì± –ú–æ–±–∏–ª—å–Ω–∞—è" / "üíª –î–µ—Å–∫—Ç–æ–ø"
- –ü—Ä–µ–≤—å—é –æ–±–æ–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º" –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 5. SEO –∏ –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä
**–†–∏—Å–∫:** SSR –º–æ–∂–µ—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å desktop –≤–∞—Ä–∏–∞–Ω—Ç (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç)
- Hydration –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø–æ–¥–±–µ—Ä–µ—Ç –Ω—É–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

---

## üéØ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤—ã—à–µ)
**–ü–ª—é—Å—ã:** 
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –†–∏—Å–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ë–æ–ª—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç B: –¢–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ –±–ª–æ–∫–∏
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è:
- –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ)
- –£—Å–ª—É–≥–∏
- –ü–∞–∫–µ—Ç—ã

**–ü–ª—é—Å—ã:**
- –ú–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç—ã (5-7 —á–∞—Å–æ–≤)
- –ú–µ–Ω—å—à–µ —Ä–∏—Å–∫–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π UX

### –í–∞—Ä–∏–∞–Ω—Ç C: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ desktop ‚Üí mobile" –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (2-3 —á–∞—Å–∞)
- –ù–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ

---

## üöÄ –ü–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –¥–µ–Ω—å)
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –ë–î
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å rollback —Å–∫—Ä–∏–ø—Ç—ã
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –∫–æ–ø–∏–∏

### –§–∞–∑–∞ 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (2-3 –¥–Ω—è)
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≠—Ç–∞–ø—ã 1-7
2. –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 –¥–µ–Ω—å)
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –±–ª–æ–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π/–¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –§–∞–∑–∞ 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (1 –¥–µ–Ω—å)
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ 24 —á–∞—Å–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è mobile/desktop
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ –°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
4. ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. ‚úÖ UX –ø–æ–Ω—è—Ç–µ–Ω –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤
6. ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≠—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ª—É—á—à–∞–µ—Ç UX, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ã–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
2. **–û—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ (—Å–Ω–∞—á–∞–ª–∞ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –±–ª–æ–∫–æ–≤)
3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ–∏—á

---

## ü§î –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

1. **–í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥:** –í–∞—Ä–∏–∞–Ω—Ç A (–ø–æ–ª–Ω—ã–π), B (—á–∞—Å—Ç–∏—á–Ω—ã–π) –∏–ª–∏ C (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)?
2. **UI —Å–µ–ª–µ–∫—Ç–æ—Ä–∞:** –¢–∞–±—ã –∏–ª–∏ –¥–≤–∞ —Ä—è–¥–∞ –∫–Ω–æ–ø–æ–∫?
3. **–î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ?
4. **–ö–Ω–æ–ø–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** –î–æ–±–∞–≤–∏—Ç—å "–ü—Ä–∏–º–µ–Ω–∏—Ç—å desktop ‚Üí mobile" –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç?
5. **–ú–∏–≥—Ä–∞—Ü–∏—è:** –ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å (weekend, –Ω–æ—á—å—é)?

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å –í–∞—Ä–∏–∞–Ω—Ç–∞ B (—Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ –±–ª–æ–∫–∏), –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É—Å—Ç—Ä–æ–∏—Ç - —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞ –≤—Å–µ –±–ª–æ–∫–∏.





