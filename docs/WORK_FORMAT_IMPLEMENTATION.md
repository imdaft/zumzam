# ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –§–æ—Ä–º–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –ø–ª–æ—â–∞–¥–æ–∫

**–î–∞—Ç–∞:** 8 –¥–µ–∫–∞–±—Ä—è 2024  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ –ø–ª–æ—â–∞–¥–æ–∫ –∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –∏—Ö —Ä–∞–±–æ—Ç—ã

---

## üéØ –†–µ—à–µ–Ω–∏–µ: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É —Ä–∞–±–æ—Ç—ã

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:

**–¢–∏–ø –ø–ª–æ—â–∞–¥–∫–∏** (—á—Ç–æ —ç—Ç–æ?) + **–§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã** (–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?)

```typescript
{
  venue_type: "loft",           // –ß–¢–û —ç—Ç–æ?
  work_format: [                // –ö–ê–ö —Ä–∞–±–æ—Ç–∞–µ—Ç?
    "venue_rental",             // –°–¥–∞–µ–º –≤ –∞—Ä–µ–Ω–¥—É
    "own_programs"              // –°–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
  ]
}
```

---

## üìä –ù–æ–≤–∞—è —Ç–∏–ø–æ–ª–æ–≥–∏—è:

### 1. **–ü–ª–æ—â–∞–¥–∫–∏ –ø–æ–¥ –∞—Ä–µ–Ω–¥—É**
```
üè¢ –ö–∞—Ñ–µ / –†–µ—Å—Ç–æ—Ä–∞–Ω
   ‚îî‚îÄ work_format: ["venue_rental"]

üé® –õ–æ—Ñ—Ç
   ‚îî‚îÄ work_format: ["venue_rental"]

üçΩÔ∏è –ë–∞–Ω–∫–µ—Ç–Ω—ã–π –∑–∞–ª (–ù–û–í–´–ô!)
   ‚îî‚îÄ work_format: ["venue_rental"]
```

### 2. **–°—Ç—É–¥–∏–∏ –∏ —Ü–µ–Ω—Ç—Ä—ã**
```
‚ú® Event-—Å—Ç—É–¥–∏—è / –°—Ç—É–¥–∏—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ (–ù–û–í–´–ô!)
   ‚îî‚îÄ work_format: 
      ["venue_rental"]           // –°–¥–∞–µ–º –≤ –∞—Ä–µ–Ω–¥—É
      ["own_programs"]           // –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã (Kids Point)
      ["venue_rental", "own_programs"]  // –ì–∏–±—Ä–∏–¥

üé™ –î–µ—Ç—Å–∫–∏–π —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä
   ‚îî‚îÄ work_format:
      ["tickets"]                // –ë–∏–ª–µ—Ç—ã (Joki Joya)
      ["venue_rental"]           // –ê—Ä–µ–Ω–¥–∞ –∑–∞–ª–∞
      ["tickets", "venue_rental"] // –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞
```

---

## üé® UI: –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–∞–±–æ—Ç—ã

```tsx
{/* –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –ø–ª–æ—â–∞–¥–∫–∏ */}
<FormField name="details.work_format">
  <FormLabel>–§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã</FormLabel>
  <FormDescription>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</FormDescription>
  
  <Checkbox value="venue_rental">
    üè¢ –°–¥–∞–µ–º –ø–ª–æ—â–∞–¥–∫—É –≤ –∞—Ä–µ–Ω–¥—É
  </Checkbox>
  
  <Checkbox value="own_programs">
    üé≠ –ü—Ä–æ–≤–æ–¥–∏–º —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
  </Checkbox>
  
  <Checkbox value="turnkey">
    üéÅ –û—Ä–≥–∞–Ω–∏–∑—É–µ–º –ø—Ä–∞–∑–¥–Ω–∏–∫ –ø–æ–¥ –∫–ª—é—á
  </Checkbox>
  
  <Checkbox value="tickets">
    üé´ –ü—Ä–æ–¥–∞–∂–∞ –±–∏–ª–µ—Ç–æ–≤ (—Å–≤–æ–±–æ–¥–Ω–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ)
  </Checkbox>
</FormField>
```

---

## üìê –ü—Ä–∏–º–µ—Ä—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:

### **Kids Point** (—Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã)
```json
{
  "venue_type": "event_studio",
  "work_format": ["own_programs"]
}
```
**–ü–æ–∏—Å–∫:** Event-—Å—Ç—É–¥–∏—è ‚Üí —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

---

### **–õ–æ—Ñ—Ç –ø–æ–¥ –∞—Ä–µ–Ω–¥—É**
```json
{
  "venue_type": "loft",
  "work_format": ["venue_rental"]
}
```
**–ü–æ–∏—Å–∫:** –õ–æ—Ñ—Ç ‚Üí –∞—Ä–µ–Ω–¥–∞

---

### **–ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—É–¥–∏—è**
```json
{
  "venue_type": "event_studio",
  "work_format": ["venue_rental", "own_programs"]
}
```
**–ü–æ–∏—Å–∫:** Event-—Å—Ç—É–¥–∏—è ‚Üí –∞—Ä–µ–Ω–¥–∞ –ò–õ–ò —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

---

### **Joki Joya**
```json
{
  "venue_type": "entertainment_center",
  "work_format": ["tickets", "venue_rental"]
}
```
**–ü–æ–∏—Å–∫:** –î–µ—Ç—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä ‚Üí –±–∏–ª–µ—Ç—ã + –∞—Ä–µ–Ω–¥–∞ –∑–∞–ª–∞

---

### **–ö–∞—Ñ–µ —Å –¥–µ—Ç—Å–∫–æ–π –∑–æ–Ω–æ–π**
```json
{
  "venue_type": "cafe",
  "work_format": ["venue_rental"],
  "has_kids_zone": true
}
```
**–ü–æ–∏—Å–∫:** –ö–∞—Ñ–µ ‚Üí –∞—Ä–µ–Ω–¥–∞ + –¥–µ—Ç—Å–∫–∞—è –∑–æ–Ω–∞

---

## üõ†Ô∏è –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (`lib/constants/index.ts`)

```typescript
export const VENUE_TYPES = {
  // –ü–ª–æ—â–∞–¥–∫–∏ –ø–æ–¥ –∞—Ä–µ–Ω–¥—É
  cafe: '–ö–∞—Ñ–µ / –†–µ—Å—Ç–æ—Ä–∞–Ω',
  loft: '–õ–æ—Ñ—Ç',
  banquet_hall: '–ë–∞–Ω–∫–µ—Ç–Ω—ã–π –∑–∞–ª',  // ‚Üê –ù–û–í–´–ô
  
  // –°—Ç—É–¥–∏–∏ –∏ —Ü–µ–Ω—Ç—Ä—ã
  event_studio: 'Event-—Å—Ç—É–¥–∏—è / –°—Ç—É–¥–∏—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤',  // ‚Üê –ù–û–í–´–ô
  entertainment_center: '–î–µ—Ç—Å–∫–∏–π —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä',
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
}

export const WORK_FORMATS = {
  venue_rental: '–°–¥–∞–µ–º –ø–ª–æ—â–∞–¥–∫—É –≤ –∞—Ä–µ–Ω–¥—É',
  own_programs: '–ü—Ä–æ–≤–æ–¥–∏–º —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã',
  turnkey: '–û—Ä–≥–∞–Ω–∏–∑—É–µ–º –ø—Ä–∞–∑–¥–Ω–∏–∫ –ø–æ–¥ –∫–ª—é—á',
  tickets: '–ü—Ä–æ–¥–∞–∂–∞ –±–∏–ª–µ—Ç–æ–≤ (—Å–≤–æ–±–æ–¥–Ω–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ)',
} as const
```

---

### 2. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** (`venue-type-grouped-selector.tsx`)

```
üìç –ü–ª–æ—â–∞–¥–∫–∏ –ø–æ–¥ –∞—Ä–µ–Ω–¥—É (–ù–û–í–ê–Ø –ì–†–£–ü–ü–ê)
  ‚îú‚îÄ –ö–∞—Ñ–µ / –†–µ—Å—Ç–æ—Ä–∞–Ω
  ‚îú‚îÄ –õ–æ—Ñ—Ç
  ‚îî‚îÄ –ë–∞–Ω–∫–µ—Ç–Ω—ã–π –∑–∞–ª

‚ú® –°—Ç—É–¥–∏–∏ –∏ —Ü–µ–Ω—Ç—Ä—ã (–ù–û–í–ê–Ø –ì–†–£–ü–ü–ê)
  ‚îú‚îÄ Event-—Å—Ç—É–¥–∏—è / –°—Ç—É–¥–∏—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤
  ‚îî‚îÄ –î–µ—Ç—Å–∫–∏–π —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä

üèÉ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
  ‚îî‚îÄ ...

üéÆ –ö–≤–µ—Å—Ç—ã –∏ –∏–≥—Ä—ã
  ‚îî‚îÄ ...

üé® –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ
  ‚îî‚îÄ ...
```

---

### 3. **–ü–æ–ª–µ work_format** (`details-forms.tsx`)

```tsx
<FormField name="details.work_format">
  {/* Checkbox –≥—Ä—É–ø–ø–∞ */}
  {Object.entries(WORK_FORMATS).map(([value, label]) => (
    <Checkbox 
      value={value}
      checked={field.value?.includes(value)}
    >
      {label}
    </Checkbox>
  ))}
</FormField>
```

---

### 4. **CategoryVisualSelector** - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π

```tsx
<div className="flex lg:grid lg:grid-cols-4 gap-3 overflow-x-auto">
  {/* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */}
  {/* –°–µ—Ç–∫–∞ 4 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */}
</div>
```

---

### 5. **SQL –º–∏–≥—Ä–∞—Ü–∏—è**

```sql
-- –ù–æ–≤—ã–π enum —Å event_studio –∏ banquet_hall
CREATE TYPE venue_subtype_temp AS ENUM (
  'cafe', 'loft', 'banquet_hall',
  'event_studio', 'entertainment_center',
  ...
);

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
CREATE FUNCTION get_venue_type_label_v2(text) ...

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ details
COMMENT ON COLUMN profiles.details IS 
'–î–ª—è venue: venue_type, work_format (array), capacity_max, area_sqm';
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç:

- [x] –†–∞–∑–¥–µ–ª–∏–ª–∏ `loft` –∏ `event_studio`
- [x] –î–æ–±–∞–≤–∏–ª–∏ `banquet_hall`
- [x] –£–±—Ä–∞–ª–∏ —Å–ª–æ–≤–æ "—Ñ–æ—Ç–æ—Å—Ç—É–¥–∏—è"
- [x] –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª–µ `work_format[]`
- [x] UI —Å checkbox –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- [x] –û–±–Ω–æ–≤–∏–ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É —Ç–∏–ø–æ–≤
- [x] –°–¥–µ–ª–∞–ª–∏ CategoryVisualSelector –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º
- [x] SQL –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [x] –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

‚úÖ **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:** —Ç–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è vs —Ñ–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ø–ª–æ—â–∞–¥–∫–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö  
‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å:** —Ä–æ–¥–∏—Ç–µ–ª–∏ –ø–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –∏—Å–∫–∞—Ç—å  
‚úÖ **Kids Point:** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è  
‚úÖ **–ü–æ–∏—Å–∫:** —Ç–æ—á–Ω—ã–π –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π  

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ! üöÄ















