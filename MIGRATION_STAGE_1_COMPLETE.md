# ‚úÖ –≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–Å–ù: –ò–ú–ü–û–†–¢ –î–ê–ù–ù–´–•

**–í—Ä–µ–º—è:** 7 –º–∏–Ω—É—Ç  
**–î–∞—Ç–∞:** 25 –¥–µ–∫–∞–±—Ä—è 2025, 22:54 - 23:01

---

## üìä –ò–ú–ü–û–†–¢–ò–†–û–í–ê–ù–ù–´–ï –î–ê–ù–ù–´–ï

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –°—Ç–∞—Ç—É—Å |
|---------|---------|--------|
| user_activity | 1000 | ‚úÖ |
| profiles | 43 | ‚úÖ |
| reviews | 20 | ‚úÖ |
| profile_locations | 12 | ‚úÖ |
| category_images | 7 | ‚úÖ |
| ad_campaigns | 7 | ‚úÖ |
| ad_bookings | 7 | ‚úÖ |
| ad_slots | 4 | ‚úÖ |
| animator_characters | 3 | ‚úÖ |
| profile_activities | 3 | ‚úÖ |
| profile_services | 7 | ‚úÖ |
| users | 2 | ‚úÖ |
| show_programs | 1 | ‚úÖ |
| master_class_programs | 1 | ‚úÖ |
| advertisements | 1 | ‚úÖ |

**–í–°–ï–ì–û:** 1096+ –∑–∞–ø–∏—Å–µ–π

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

1. **JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getColumnTypes()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `jsonb` –ø–æ–ª–µ–π
2. **Foreign key constraints** - –ò–º–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–Ω–∞—á–∞–ª–∞ —Ä–æ–¥–∏—Ç–µ–ª–∏, –ø–æ—Ç–æ–º –¥–µ—Ç–∏)
3. **NOT NULL constraints** - –ü—Ä–æ–ø—É—â–µ–Ω—ã –∑–∞–ø–∏—Å–∏ —Å null –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö (`order_requests`)

### –°–∫—Ä–∏–ø—Ç—ã:
- `scripts/export-from-old-supabase.mjs` - —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ Supabase
- `scripts/import-to-managed-pg-v2.mjs` - –∏–º–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- `scripts/import-remaining-tables.mjs` - –∏–º–ø–æ—Ä—Ç –¥–æ–ø. —Ç–∞–±–ª–∏—Ü

---

## ‚û°Ô∏è –°–õ–ï–î–£–Æ–©–ò–ô –≠–¢–ê–ü

**–≠–¢–ê–ü 2: –ú–ò–ì–†–ê–¶–ò–Ø API**

–ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é ~150 API routes —Å Supabase –Ω–∞ Prisma.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ):**
1. `/api/profiles` - CRUD –ø—Ä–æ—Ñ–∏–ª–µ–π
2. `/api/reviews` - CRUD –æ—Ç–∑—ã–≤–æ–≤  
3. `/api/services` - CRUD —É—Å–ª—É–≥
4. `/api/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
5. `/api/requests` - –∑–∞—è–≤–∫–∏
6. `/api/show-programs` - —à–æ—É-–ø—Ä–æ–≥—Ä–∞–º–º—ã
7. `/api/quest-programs` - –∫–≤–µ—Å—Ç-–ø—Ä–æ–≥—Ä–∞–º–º—ã
8. `/api/animator-characters` - –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
9. `/api/agency-partners` - –ø–∞—Ä—Ç–Ω—ë—Ä—ã –∞–≥–µ–Ω—Ç—Å—Ç–≤
10. `/api/profile-locations` - –ª–æ–∫–∞—Ü–∏–∏

**–í—Ä–µ–º—è –æ—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞


**–í—Ä–µ–º—è:** 7 –º–∏–Ω—É—Ç  
**–î–∞—Ç–∞:** 25 –¥–µ–∫–∞–±—Ä—è 2025, 22:54 - 23:01

---

## üìä –ò–ú–ü–û–†–¢–ò–†–û–í–ê–ù–ù–´–ï –î–ê–ù–ù–´–ï

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –°—Ç–∞—Ç—É—Å |
|---------|---------|--------|
| user_activity | 1000 | ‚úÖ |
| profiles | 43 | ‚úÖ |
| reviews | 20 | ‚úÖ |
| profile_locations | 12 | ‚úÖ |
| category_images | 7 | ‚úÖ |
| ad_campaigns | 7 | ‚úÖ |
| ad_bookings | 7 | ‚úÖ |
| ad_slots | 4 | ‚úÖ |
| animator_characters | 3 | ‚úÖ |
| profile_activities | 3 | ‚úÖ |
| profile_services | 7 | ‚úÖ |
| users | 2 | ‚úÖ |
| show_programs | 1 | ‚úÖ |
| master_class_programs | 1 | ‚úÖ |
| advertisements | 1 | ‚úÖ |

**–í–°–ï–ì–û:** 1096+ –∑–∞–ø–∏—Å–µ–π

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

1. **JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getColumnTypes()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `jsonb` –ø–æ–ª–µ–π
2. **Foreign key constraints** - –ò–º–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–Ω–∞—á–∞–ª–∞ —Ä–æ–¥–∏—Ç–µ–ª–∏, –ø–æ—Ç–æ–º –¥–µ—Ç–∏)
3. **NOT NULL constraints** - –ü—Ä–æ–ø—É—â–µ–Ω—ã –∑–∞–ø–∏—Å–∏ —Å null –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö (`order_requests`)

### –°–∫—Ä–∏–ø—Ç—ã:
- `scripts/export-from-old-supabase.mjs` - —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ Supabase
- `scripts/import-to-managed-pg-v2.mjs` - –∏–º–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- `scripts/import-remaining-tables.mjs` - –∏–º–ø–æ—Ä—Ç –¥–æ–ø. —Ç–∞–±–ª–∏—Ü

---

## ‚û°Ô∏è –°–õ–ï–î–£–Æ–©–ò–ô –≠–¢–ê–ü

**–≠–¢–ê–ü 2: –ú–ò–ì–†–ê–¶–ò–Ø API**

–ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é ~150 API routes —Å Supabase –Ω–∞ Prisma.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ):**
1. `/api/profiles` - CRUD –ø—Ä–æ—Ñ–∏–ª–µ–π
2. `/api/reviews` - CRUD –æ—Ç–∑—ã–≤–æ–≤  
3. `/api/services` - CRUD —É—Å–ª—É–≥
4. `/api/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
5. `/api/requests` - –∑–∞—è–≤–∫–∏
6. `/api/show-programs` - —à–æ—É-–ø—Ä–æ–≥—Ä–∞–º–º—ã
7. `/api/quest-programs` - –∫–≤–µ—Å—Ç-–ø—Ä–æ–≥—Ä–∞–º–º—ã
8. `/api/animator-characters` - –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
9. `/api/agency-partners` - –ø–∞—Ä—Ç–Ω—ë—Ä—ã –∞–≥–µ–Ω—Ç—Å—Ç–≤
10. `/api/profile-locations` - –ª–æ–∫–∞—Ü–∏–∏

**–í—Ä–µ–º—è –æ—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞




