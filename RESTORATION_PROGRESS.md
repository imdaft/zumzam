# üîÑ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è API endpoints

**–î–∞—Ç–∞:** 26 –¥–µ–∫–∞–±—Ä—è 2025  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π Supabase ‚Üí Prisma  
**–í—Å–µ–≥–æ –ø—É—Å—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤:** 47

---

## ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (20/47)

### Admin —Å–µ–∫—Ü–∏—è (7 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `/api/admin/users` - –°–ø–∏—Å–æ–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ `/api/admin/errors` - –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
- ‚úÖ `/api/admin/errors/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫  
- ‚úÖ `/api/admin/profiles` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- ‚úÖ `/api/admin/reviews` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤
- ‚úÖ `/api/admin/verification/pending` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π
- ‚úÖ `/api/admin/tests` - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–µ—Å—Ç—ã

### Payments (2 —Ñ–∞–π–ª–∞)
- ‚úÖ `/api/payments/create` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- ‚úÖ `/api/payments/webhook` - Webhook –æ—Ç –ÆKassa

### Notification Settings (4 —Ñ–∞–π–ª–∞)
- ‚úÖ `/api/settings/notifications` - CRUD –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ `/api/settings/notifications/email-verify` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞
- ‚úÖ `/api/settings/notifications/email-confirm` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- ‚úÖ `/api/settings/notifications/telegram-disconnect` - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Telegram

### AI (7 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `/api/ai/chat` - AI —á–∞—Ç
- ‚úÖ `/api/ai/chat/history` - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞
- ‚úÖ `/api/ai/transcribe` - –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ
- ‚úÖ `/api/ai/request-draft` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –∑–∞—è–≤–∫–∏
- ‚úÖ `/api/ai/request-draft-chat` - –î–∏–∞–ª–æ–≥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞
- ‚úÖ `/api/ai/expand-image` - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π AI
- ‚úÖ `/api/ai/expand-category-image` - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

## ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (27/47)

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞ –æ—á–µ—Ä–µ–¥–∏)

#### Admin (5 —Ñ–∞–π–ª–æ–≤)
- ‚ùå `/api/admin/stt-settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- ‚ùå `/api/admin/pages-status` - –°—Ç–∞—Ç—É—Å —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚ùå `/api/admin/moderation/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚ùå `/api/admin/profiles/create-unclaimed` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
- ‚ùå `/api/admin/generate-embeddings` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤


#### Advertising (3 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/advertising/bookings` - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã
- ‚ùå `/api/advertising/debug` - –û—Ç–ª–∞–¥–∫–∞ —Ä–µ–∫–ª–∞–º—ã
- ‚ùå `/api/advertising/slots` - –†–µ–∫–ª–∞–º–Ω—ã–µ —Å–ª–æ—Ç—ã
- ‚ùå `/api/advertising/upload-image` - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### Claims (2 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/claim` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å
- ‚ùå `/api/claim/by-token` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ —Ç–æ–∫–µ–Ω—É

#### Geography (1 —Ñ–∞–π–ª)
- ‚ùå `/api/geography` - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è/–ª–æ–∫–∞—Ü–∏–∏

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### FAQ (2 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/faq/seed` - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ FAQ
- ‚ùå `/api/faq/generate-embeddings` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è FAQ

#### Messages & Chat (2 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/messages/chats` - –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- ‚ùå `/api/messages/reactions/batch` - –ú–∞—Å—Å–æ–≤—ã–µ —Ä–µ–∞–∫—Ü–∏–∏

#### Push Notifications (2 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/push/send` - –û—Ç–ø—Ä–∞–≤–∫–∞ push
- ‚ùå `/api/push/subscribe` - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ push

#### Search (1 —Ñ–∞–π–ª)
- ‚ùå `/api/search/suggestions` - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–∏—Å–∫–∞

#### Profile Features (1 —Ñ–∞–π–ª)
- ‚ùå `/api/profile-activities` - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

#### Telegram (3 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/telegram/connect` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram
- ‚ùå `/api/telegram/publish-request` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram
- ‚ùå `/api/telegram/webhook` - Webhook Telegram

#### VK (2 —Ñ–∞–π–ª–∞)
- ‚ùå `/api/vk-market/import` - –ò–º–ø–æ—Ä—Ç –∏–∑ VK
- ‚ùå `/api/vk-oauth/callback` - OAuth callback VK

#### Yandex Reviews (1 —Ñ–∞–π–ª)
- ‚ùå `/api/yandex-reviews/parse` - –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–∑—ã–≤–æ–≤ –Ø–Ω–¥–µ–∫—Å

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ | –û—Å—Ç–∞–ª–æ—Å—å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|---------------|----------|----------|
| Admin | 7 | 5 | 58% |
| AI | 7 | 0 | 100% |
| Advertising | 0 | 4 | 0% |
| Payments | 2 | 0 | 100% |
| Notifications | 4 | 0 | 100% |
| Other | 0 | 18 | 0% |
| **–ò–¢–û–ì–û** | **20** | **27** | **43%** |

---

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –°–µ—Å—Å–∏—è 1 (—Ç–µ–∫—É—â–∞—è) ‚úÖ
- ‚úÖ Admin endpoints (7 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ Payments (2 —Ñ–∞–π–ª–∞)
- ‚úÖ Notification settings (4 —Ñ–∞–π–ª–∞)
- ‚úÖ AI endpoints (7 —Ñ–∞–π–ª–æ–≤)

### –°–µ—Å—Å–∏—è 2 (—Å–ª–µ–¥—É—é—â–∞—è)
- ‚ùå Admin –æ—Å—Ç–∞–≤—à–∏–µ—Å—è (5 —Ñ–∞–π–ª–æ–≤)
- ‚ùå Advertising (4 —Ñ–∞–π–ª–∞)

### –°–µ—Å—Å–∏—è 3
- ‚ùå Claims, Geography, FAQ
- ‚ùå Messages, Push, Search
- ‚ùå Profile activities

### –°–µ—Å—Å–∏—è 4
- ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Telegram, VK, Yandex)

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ endpoints –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã —Å **Supabase –Ω–∞ Prisma**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ **–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞** (admin/owner)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **JWT —Ç–æ–∫–µ–Ω** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í—Å–µ endpoints –ø—Ä–æ–≤–µ—Ä—è—é—Ç **—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç **Clean Code** –ø—Ä–∏–Ω—Ü–∏–ø–∞–º

